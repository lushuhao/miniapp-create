"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var r=0,n=new Array(e.length);r<e.length;r++)n[r]=e[r];return n}}function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function _arrayWithHoles(e){if(Array.isArray(e))return e}var program=require("commander"),fs=require("fs"),colors=require("ansi-colors"),log=require("fancy-log"),_require=require("../package.json"),name=_require.name,bin=_require.bin,version=_require.version,bins=Object.keys(bin).join(" | ");function createFile(){var e,r=_toArray(program.args),n=r[0],t=r.slice(1),o="./".concat(n,"/");t=t[0];var a=n.split("/").pop();!t.length&&t.push(a);var i=t.map(function(e){return createWxFileList(n,e)});extendDir(o),(i=(e=Array.prototype).concat.apply(e,_toConsumableArray(i))).forEach(function(r){fs.writeFile("".concat(o,"/").concat(r.file),r.content,function(e){e&&log(colors.red(e)),log(colors.green("文件创建成功："),"".concat(r.file))})})}function extendDir(e){e&&!fs.existsSync(e)&&e.split("/").reduce(function(e,r){return fs.existsSync(e)||(fs.mkdirSync(e),log(colors.green("创建文件夹："),e)),"".concat(e,"/").concat(r)})}var createWxFileList=function(e,r){var n="",t="";switch(e){case"components":n="Component({})",t='{\n  "component": true\n}';break;default:n="Page({})",t='{\n  "navigationBarTitleText": "'.concat(r,'"\n}')}return[{file:"".concat(r,".js"),content:n},{file:"".concat(r,".json"),content:t},{file:"".concat(r,".wxml"),content:'<view class="'.concat(r,'"></view>')},{file:"".concat(r,".wxss"),content:".".concat(r,"{}")}]};program.usage("[command] <options ...>"),program.version(version).option("-v, --version","show ".concat(name," current version")).arguments("<path> [file...]").description("".concat(bins," <path> [file] \n  create one dir to ./path\n  create four files to ./path/file, file.js、file.json、file.wxss、file.wxml")).action(createFile),program.parse(process.argv);