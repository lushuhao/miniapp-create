"use strict";function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){var n=[],t=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(t=(i=c.next()).done)&&(n.push(i.value),!r||n.length!==r);t=!0);}catch(e){o=!0,a=e}finally{try{t||null==c.return||c.return()}finally{if(o)throw a}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}var program=require("commander"),fs=require("fs"),colors=require("ansi-colors"),log=require("fancy-log"),_require=require("../package.json"),name=_require.name,version=_require.version;function createFile(){var e=_slicedToArray(program.args,2),r=e[0],n=e[1],t="./".concat(r,"/").concat(n,"/"),o=createWxFileList(r,n);extendDir(t),o.forEach(function(r){fs.writeFile("".concat(t,"/").concat(n).concat(r.ext),r.content,function(e){e&&log(colors.red(e)),log(colors.green("文件创建成功："),"".concat(n).concat(r.ext))})})}function extendDir(e){e&&!fs.existsSync(e)&&e.split("/").reduce(function(e,r){return fs.existsSync(e)||(fs.mkdirSync(e),log(colors.green("创建文件夹："),e)),"".concat(e,"/").concat(r)})}var createWxFileList=function(e,r){var n="",t="";switch(e){case"components":n="Component({})",t='{\n  "component": true\n}';break;default:n="Page({})",t='{\n  "navigationBarTitleText": "'.concat(r,'"\n}')}return[{ext:".js",content:n},{ext:".json",content:t},{ext:".wxml",content:'<view class="'.concat(r,'"></view>')},{ext:".wxss",content:".".concat(r,"{}")}]};program.usage("[command] <options ...>"),program.version(version).option("-v, --version","show ".concat(name," current version")).arguments("<path> <file>").description("".concat(name," <path> <file> \n  create one dir to ./path\n  create four files to ./path/file, file.js、file.json、file.wxss、file.wxml")).action(createFile),program.parse(process.argv);